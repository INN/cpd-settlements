function languagize(a){return 10>a&&(0==a&&(a="no"),1==a&&(a="one"),2==a&&(a="two"),3==a&&(a="three"),4==a&&(a="four"),5==a&&(a="five"),6==a&&(a="six"),7==a&&(a="seven"),8==a&&(a="eight"),9==a&&(a="nine")),a}function findOfficer(a){for(i=0;i<officers_json.length;i++){var b=officers_json[i];if(b.slug==a)return b}}function getOfficerData(a,b){return b.filter(function(b){return b.slug==a})}function getCases(a){for(var b=[],c=0;c<cases_json.length;c++){var d=cases_json[c],e=d.officers,f=getOfficerData(a,e);f.length>0&&b.push(d)}return b}function case_twitter(a){var b,c=$(a).closest(".case, .case-detail"),d=c.find("h2").text(),e=c.find("h3").text().toLowerCase();b=c.find("a.case-link").get(0)?c.find("a.case-link").get(0).href:window.location.href;var f="This police lawsuit for "+e+" cost Chicago "+d+". "+b+" via @chicagoreporter",g="https://twitter.com/home?status="+encodeURIComponent(f);window.open(g,"newwindow","width=600, height=400")}function case_facebook(a){var b,c=$(a).closest(".case, .case-detail");c.find("h2").text();b=c.find("a.case-link").get(0)?c.find("a.case-link").get(0).href:window.location.href;var d="https://www.facebook.com/sharer/sharer.php?u="+b;window.open(d,"newwindow","width=600, height=400")}function officer_twitter(a){var b,c=$(a).closest(".officer"),d=c.data("slug"),e=findOfficer(d);if(b=c.find("a.officer-link").get(0)?c.find("a.officer-link").get(0).href:window.location.href,e){var f="",g=e.first+" "+e.last,h=e.total_payments.formatMoney(0),i=getCases(d).length;f=1==i?toTitleCase(g)+" was named in one police misconduct lawsuit that cost Chicago $"+h+". "+b+" via @chicagoreporter":toTitleCase(g)+" was named in "+languagize(i)+" police misconduct lawsuits that cost Chicago $"+h+". "+b+" via @chicagoreporter"}var j="https://twitter.com/home?status="+encodeURIComponent(f);window.open(j,"newwindow","width=600, height=400")}function officer_facebook(a){var b,c=$(a).closest(".officer");b=c.find("a.officer-link").get(0)?c.find("a.officer-link").get(0).href:window.location.href;var d="https://www.facebook.com/sharer/sharer.php?u="+b;window.open(d,"newwindow","width=600, height=400")}function split_tags(a){for(var a=a.split("|"),b="",c=0;c<a.length;c++){var d=a[c];b+="LGBT"!==d?"<span class='display-tag'>"+d.toLowerCase()+"</span>":"<span class='display-tag'>"+d+"</span>"}return b}function toTitleCase(a){return a.replace(/\w\S*/g,function(a){return a.charAt(0).toUpperCase()+a.substr(1).toLowerCase()})}function adjust_whitespace(){for(var a=$(".clickable.tag"),b=0;b<a.length;b++){var c=$(a[b]),d=c.html();d=d.replace(/(\r\n|\n|\r)/gm,"").replace(/ +(?= )/g,""),d=d.replace(" .","."),d=d.replace(" ,",","),d=d.replace(" <sp","<sp"),c.html(d)}}Number.prototype.formatMoney=function(a,b,c){var d=this,a=isNaN(a=Math.abs(a))?2:a,b=void 0==b?".":b,c=void 0==c?",":c,e=0>d?"-":"",f=parseInt(d=Math.abs(+d||0).toFixed(a))+"",g=(g=f.length)>3?g%3:0;return e+(g?f.substr(0,g)+c:"")+f.substr(g).replace(/(\d{3})(?=\d)/g,"$1"+c)+(a?b+Math.abs(d-f).toFixed(a).slice(2):"")},$(document).ready(function(){$(".menu-toggle-wrap").click(function(){var a=$(this).closest("#main-menu");a.toggleClass("expanded")}),$(".mobile-tab-selector li.cases").click(function(){$("body").hasClass("filter-cases")||$(".tab-selector .cases a").trigger("click")}),$(".mobile-tab-selector li.officers").click(function(){$("body").hasClass("filter-officers")||$(".tab-selector .officers a").trigger("click")}),$("#explore-data").click(function(){var a=$(".search");$(this).find("span");a.toggleClass("expanded")}),$("#replay-intro").click(function(){window.location.href=site_path}),$("label.option").hover(function(){var a=$(this).find("span"),b=$(this);a.css("display","inline");var c=b.width()-a.width();-4>c&&a.css({left:c,width:a.width+c})},function(){$(this).find("span").css({left:"",display:"block"})})}),$(window).resize(function(){var a=$(this).width();a>=820&&($("#tag-toggle").removeClass("expanded"),$("#tag-group").attr("style",""),$("#main-menu").removeClass("expanded"))});